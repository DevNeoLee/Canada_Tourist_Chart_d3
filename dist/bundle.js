/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/bar_chart.js":
/*!**************************!*\
  !*** ./src/bar_chart.js ***!
  \**************************/
/*! exports provided: barChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"barChart\", function() { return barChart; });\n\n//draw bar-chart from the data input\nfunction barChart(data) {\n    const margin = { top: 10, right: 0, bottom: 190, left: 80 },\n        width = 580 - margin.right - margin.left,\n        height = 680 - margin.top - margin.bottom,\n        barPadding = 1,\n        barWidth = width / data.length;\n\n    const barColors = d3.scaleThreshold()\n        .domain([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])\n        .range([\"#4a58dd\", \"#2f9df5\", \"#27d7c4\", \"#4df884\", \"#95fb51\", \"#dedd32\", \"#ffa423\", \"#f65f18\", \"#ba2208\", \"#900c00\", \"#bf3caf\", \"#fe4b83\"]);\n    const canvas1 = d3.select('.leftContainer')\n        .append('svg')\n        .attr('width', width + margin.right + margin.left)\n        .attr('height', height + margin.top + margin.bottom)\n        .attr('class', 'canvas1');\n\n    const xScale = d3.scaleLinear()\n        .rangeRound([0, width])\n        .domain([0, data.length]);\n    const xAxisScale = d3.scaleBand()\n        .domain(data.map(d => d.GEO))\n        .rangeRound([0, width]);\n    const xAxis = d3.axisBottom()\n        .scale(xAxisScale);\n    const yScale = d3.scaleSqrt()\n        .domain([0, 1700000]) // record high number of visitors, hard code here if there is new high! \n        .range([0, height]);\n    const yAxisScale = d3.scaleSqrt()\n        .domain([1700000, 0]) // record high number of visitors, hard code here if there is new high!\n        .range([0, height]);\n    const yAxis = d3.axisLeft()\n        .scale(yAxisScale);\n\n    //draw bars\n    const bars = canvas1.selectAll('rect')\n        .attr('class', 'barGroup')\n        .data(data)\n        .enter()\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('transform', 'translate(65, 0)')\n        .attr('width', barWidth )\n        .attr('x', (d, i) => barWidth * i)\n        .style('fill', (d, i) => { return barColors(i)})\n        .attr(\"y\", d => { return height + 20})\n        .attr(\"height\", '0')\n        .transition()//animation effect\n        .duration(350)\n        .delay(function (d, i) { return i * 30; })\n        .attr('y', d => height - yScale(parseInt(d.VALUE)) + 10)\n        .attr('height', d => yScale(parseInt(d.VALUE)));\n\n        d3.selectAll('rect') //listener for mouseover, mouseout on bars\n            .data(data)\n            .on(\"mouseover\", onMouseOver) \n            .on(\"mouseout\", onMouseOut); \n\n    //label visitor numbers\n    const labels = canvas1.selectAll('text')\n        .data(data)\n        .enter()\n        .append('g')\n        .append('text')\n        .attr('class', 'label')\n        .text(d => parseInt(d.VALUE))\n        .attr(\"y\", d => { return height - 500; })\n        .attr(\"height\", 0)\n        .transition()//animation effect\n        .duration(250)\n        .delay(function (d, i) {\n            return i * 30;\n        })\n        .attr('y', d => height - yScale(parseInt(d.VALUE)) + 8)\n        .style('text-anchor', 'middle')\n        .attr('x', (d, i) => (95 + barWidth * i))\n        .attr('fill', 'darkblue');\n\n    //append xAxis\n    canvas1.append('g')\n        .attr('class', 'x_axis')\n        .attr('transform', 'translate( 65, 490)')\n        .call(xAxis)\n        .selectAll('text')\n        .attr('transform', 'rotate(90)')\n        .style('text-anchor', 'start')\n        .style('font-size', '13px')\n        .attr('x', 8)\n        .attr('y', -5)\n        \n    // append yAxis\n    canvas1.append('g')\n        .attr('class', 'y_axis')\n        .attr('transform', 'translate(65, 10)')\n        .call(yAxisScale);\n\n    //title text on map chart\n    canvas1\n        .append('text')\n        .attr('x', '131')\n        .attr('y', '55')\n        .text(\"Provincial Visitors on \" + data[0].REF_DATE)\n        .attr('class', 'subTitle');\n\n    //yAxis label\n    canvas1\n        .append('text')\n        .attr('x', 0)\n        .attr('y', 15)\n        .text(\"Person\")\n        .attr('class', 'axisText')\n\n    //xAxis label\n    canvas1\n        .append('text')\n        .attr('x', '165')\n        .attr('y', '635')\n        .text(\"Canadian Province\")\n        .attr('class', 'axisText');\n}\n\nconst div = d3.select(\"body\").append(\"div\") //tooptip initial container\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n\n//mouseover event to bar chart\nfunction onMouseOver(d, i) {\n    d3.select(this).transition()\n        .duration(0)\n        .style('opacity', '0.4');\n\n    div.transition()\n        .duration(0)\n        .style(\"opacity\", 1);\n\n    div.html(d.GEO + \" on \" + d.REF_DATE + \"<br/>\" + \"tourists from overseas: \" +  d.VALUE + \" persons\")\n        .style(\"left\", (d3.event.pageX - 50) + \"px\")\n        .style(\"top\", (d3.event.pageY - 100) + \"px\");\n}\n\n//mouseout event to bar chart\nfunction onMouseOut(d, i) {\n    d3.select(this).transition()\n        .duration(0)\n        .style('opacity', '1');\n\n    d3.selectAll('div.tooltip')\n        .style('opacity', 0);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmFyX2NoYXJ0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Jhcl9jaGFydC5qcz85OWNkIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy9kcmF3IGJhci1jaGFydCBmcm9tIHRoZSBkYXRhIGlucHV0XG5leHBvcnQgZnVuY3Rpb24gYmFyQ2hhcnQoZGF0YSkge1xuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAxMCwgcmlnaHQ6IDAsIGJvdHRvbTogMTkwLCBsZWZ0OiA4MCB9LFxuICAgICAgICB3aWR0aCA9IDU4MCAtIG1hcmdpbi5yaWdodCAtIG1hcmdpbi5sZWZ0LFxuICAgICAgICBoZWlnaHQgPSA2ODAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcbiAgICAgICAgYmFyUGFkZGluZyA9IDEsXG4gICAgICAgIGJhcldpZHRoID0gd2lkdGggLyBkYXRhLmxlbmd0aDtcblxuICAgIGNvbnN0IGJhckNvbG9ycyA9IGQzLnNjYWxlVGhyZXNob2xkKClcbiAgICAgICAgLmRvbWFpbihbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMl0pXG4gICAgICAgIC5yYW5nZShbXCIjNGE1OGRkXCIsIFwiIzJmOWRmNVwiLCBcIiMyN2Q3YzRcIiwgXCIjNGRmODg0XCIsIFwiIzk1ZmI1MVwiLCBcIiNkZWRkMzJcIiwgXCIjZmZhNDIzXCIsIFwiI2Y2NWYxOFwiLCBcIiNiYTIyMDhcIiwgXCIjOTAwYzAwXCIsIFwiI2JmM2NhZlwiLCBcIiNmZTRiODNcIl0pO1xuICAgIGNvbnN0IGNhbnZhczEgPSBkMy5zZWxlY3QoJy5sZWZ0Q29udGFpbmVyJylcbiAgICAgICAgLmFwcGVuZCgnc3ZnJylcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGggKyBtYXJnaW4ucmlnaHQgKyBtYXJnaW4ubGVmdClcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnY2FudmFzMScpO1xuXG4gICAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKVxuICAgICAgICAuZG9tYWluKFswLCBkYXRhLmxlbmd0aF0pO1xuICAgIGNvbnN0IHhBeGlzU2NhbGUgPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgICAuZG9tYWluKGRhdGEubWFwKGQgPT4gZC5HRU8pKVxuICAgICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcbiAgICBjb25zdCB4QXhpcyA9IGQzLmF4aXNCb3R0b20oKVxuICAgICAgICAuc2NhbGUoeEF4aXNTY2FsZSk7XG4gICAgY29uc3QgeVNjYWxlID0gZDMuc2NhbGVTcXJ0KClcbiAgICAgICAgLmRvbWFpbihbMCwgMTcwMDAwMF0pIC8vIHJlY29yZCBoaWdoIG51bWJlciBvZiB2aXNpdG9ycywgaGFyZCBjb2RlIGhlcmUgaWYgdGhlcmUgaXMgbmV3IGhpZ2ghIFxuICAgICAgICAucmFuZ2UoWzAsIGhlaWdodF0pO1xuICAgIGNvbnN0IHlBeGlzU2NhbGUgPSBkMy5zY2FsZVNxcnQoKVxuICAgICAgICAuZG9tYWluKFsxNzAwMDAwLCAwXSkgLy8gcmVjb3JkIGhpZ2ggbnVtYmVyIG9mIHZpc2l0b3JzLCBoYXJkIGNvZGUgaGVyZSBpZiB0aGVyZSBpcyBuZXcgaGlnaCFcbiAgICAgICAgLnJhbmdlKFswLCBoZWlnaHRdKTtcbiAgICBjb25zdCB5QXhpcyA9IGQzLmF4aXNMZWZ0KClcbiAgICAgICAgLnNjYWxlKHlBeGlzU2NhbGUpO1xuXG4gICAgLy9kcmF3IGJhcnNcbiAgICBjb25zdCBiYXJzID0gY2FudmFzMS5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYmFyR3JvdXAnKVxuICAgICAgICAuZGF0YShkYXRhKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JhcicpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDY1LCAwKScpXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGJhcldpZHRoIClcbiAgICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gYmFyV2lkdGggKiBpKVxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoZCwgaSkgPT4geyByZXR1cm4gYmFyQ29sb3JzKGkpfSlcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGQgPT4geyByZXR1cm4gaGVpZ2h0ICsgMjB9KVxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCAnMCcpXG4gICAgICAgIC50cmFuc2l0aW9uKCkvL2FuaW1hdGlvbiBlZmZlY3RcbiAgICAgICAgLmR1cmF0aW9uKDM1MClcbiAgICAgICAgLmRlbGF5KGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiBpICogMzA7IH0pXG4gICAgICAgIC5hdHRyKCd5JywgZCA9PiBoZWlnaHQgLSB5U2NhbGUocGFyc2VJbnQoZC5WQUxVRSkpICsgMTApXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBkID0+IHlTY2FsZShwYXJzZUludChkLlZBTFVFKSkpO1xuXG4gICAgICAgIGQzLnNlbGVjdEFsbCgncmVjdCcpIC8vbGlzdGVuZXIgZm9yIG1vdXNlb3ZlciwgbW91c2VvdXQgb24gYmFyc1xuICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBvbk1vdXNlT3ZlcikgXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCBvbk1vdXNlT3V0KTsgXG5cbiAgICAvL2xhYmVsIHZpc2l0b3IgbnVtYmVyc1xuICAgIGNvbnN0IGxhYmVscyA9IGNhbnZhczEuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGFiZWwnKVxuICAgICAgICAudGV4dChkID0+IHBhcnNlSW50KGQuVkFMVUUpKVxuICAgICAgICAuYXR0cihcInlcIiwgZCA9PiB7IHJldHVybiBoZWlnaHQgLSA1MDA7IH0pXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIDApXG4gICAgICAgIC50cmFuc2l0aW9uKCkvL2FuaW1hdGlvbiBlZmZlY3RcbiAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgLmRlbGF5KGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAqIDMwO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cigneScsIGQgPT4gaGVpZ2h0IC0geVNjYWxlKHBhcnNlSW50KGQuVkFMVUUpKSArIDgpXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4gKDk1ICsgYmFyV2lkdGggKiBpKSlcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnZGFya2JsdWUnKTtcblxuICAgIC8vYXBwZW5kIHhBeGlzXG4gICAgY2FudmFzMS5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAneF9heGlzJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoIDY1LCA0OTApJylcbiAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSg5MCknKVxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnMTNweCcpXG4gICAgICAgIC5hdHRyKCd4JywgOClcbiAgICAgICAgLmF0dHIoJ3knLCAtNSlcbiAgICAgICAgXG4gICAgLy8gYXBwZW5kIHlBeGlzXG4gICAgY2FudmFzMS5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAneV9heGlzJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoNjUsIDEwKScpXG4gICAgICAgIC5jYWxsKHlBeGlzU2NhbGUpO1xuXG4gICAgLy90aXRsZSB0ZXh0IG9uIG1hcCBjaGFydFxuICAgIGNhbnZhczFcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAgIC5hdHRyKCd4JywgJzEzMScpXG4gICAgICAgIC5hdHRyKCd5JywgJzU1JylcbiAgICAgICAgLnRleHQoXCJQcm92aW5jaWFsIFZpc2l0b3JzIG9uIFwiICsgZGF0YVswXS5SRUZfREFURSlcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3N1YlRpdGxlJyk7XG5cbiAgICAvL3lBeGlzIGxhYmVsXG4gICAgY2FudmFzMVxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHIoJ3gnLCAwKVxuICAgICAgICAuYXR0cigneScsIDE1KVxuICAgICAgICAudGV4dChcIlBlcnNvblwiKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpc1RleHQnKVxuXG4gICAgLy94QXhpcyBsYWJlbFxuICAgIGNhbnZhczFcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAgIC5hdHRyKCd4JywgJzE2NScpXG4gICAgICAgIC5hdHRyKCd5JywgJzYzNScpXG4gICAgICAgIC50ZXh0KFwiQ2FuYWRpYW4gUHJvdmluY2VcIilcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNUZXh0Jyk7XG59XG5cbmNvbnN0IGRpdiA9IGQzLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwiZGl2XCIpIC8vdG9vcHRpcCBpbml0aWFsIGNvbnRhaW5lclxuICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ0b29sdGlwXCIpXG4gICAgLnN0eWxlKFwib3BhY2l0eVwiLCAwKTtcblxuLy9tb3VzZW92ZXIgZXZlbnQgdG8gYmFyIGNoYXJ0XG5mdW5jdGlvbiBvbk1vdXNlT3ZlcihkLCBpKSB7XG4gICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgJzAuNCcpO1xuXG4gICAgZGl2LnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKTtcblxuICAgIGRpdi5odG1sKGQuR0VPICsgXCIgb24gXCIgKyBkLlJFRl9EQVRFICsgXCI8YnIvPlwiICsgXCJ0b3VyaXN0cyBmcm9tIG92ZXJzZWFzOiBcIiArICBkLlZBTFVFICsgXCIgcGVyc29uc1wiKVxuICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCAtIDUwKSArIFwicHhcIilcbiAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwMCkgKyBcInB4XCIpO1xufVxuXG4vL21vdXNlb3V0IGV2ZW50IHRvIGJhciBjaGFydFxuZnVuY3Rpb24gb25Nb3VzZU91dChkLCBpKSB7XG4gICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgJzEnKTtcblxuICAgIGQzLnNlbGVjdEFsbCgnZGl2LnRvb2x0aXAnKVxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKTtcbn1cblxuXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/bar_chart.js\n");

/***/ }),

/***/ "./src/feedData.js":
/*!*************************!*\
  !*** ./src/feedData.js ***!
  \*************************/
/*! exports provided: feedData, provinces */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"feedData\", function() { return feedData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"provinces\", function() { return provinces; });\n/* harmony import */ var _bar_chart_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bar_chart.js */ \"./src/bar_chart.js\");\n/* harmony import */ var _pie_chart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pie_chart.js */ \"./src/pie_chart.js\");\n/* harmony import */ var _map_chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map_chart.js */ \"./src/map_chart.js\");\n\n\n\n\n\n//organize specific monthly data\n//call bar, pie, map chart\nconst feedData = (data, year = 10, month = 7) => {\n    const monthlyData = [];\n        for(let ele = 0; ele < data.length; ele ++ ) {\n            if ((parseInt(data[ele]['REF_DATE'].slice(2, 4)) == year) &&\n                (parseInt(data[ele]['REF_DATE'].slice(5, 7)) == month))\n            {\n                monthlyData.push(data[ele]);\n            }\n            if (monthlyData.length == 12 ) { break }\n        }\n \n    Object(_map_chart_js__WEBPACK_IMPORTED_MODULE_2__[\"mapChart\"])(monthlyData); \n  \n    const sortedMonthlyData = [...monthlyData]; \n    sortedMonthlyData.sort(function(b, a){ return parseInt(a.VALUE) - parseInt(b.VALUE)}); // sort data in order according to the value amount\n    \n    const totalVisitor = sortedMonthlyData.reduce((a, b) => (a + parseInt(b.VALUE)), 0);\n\n    Object(_bar_chart_js__WEBPACK_IMPORTED_MODULE_0__[\"barChart\"])(sortedMonthlyData);\n    Object(_pie_chart_js__WEBPACK_IMPORTED_MODULE_1__[\"pieChart\"])(sortedMonthlyData, totalVisitor);\n\n    d3.selectAll('.info').remove();\n    d3.select('.infoWrap').append('g')\n        .data(sortedMonthlyData)\n        .append('text')\n        .attr('class', 'info')\n        .text(d =>  totalVisitor + \" Tourists Have Visited Canada\" + \" on \" + d.REF_DATE );\n}\n\nconst provinces = [\n    \"Newfoundland and Labrador\",\n    \"Prince Edward Island\",\n    \"Nova Scotia\",\n    \"New Brunswick\",\n    \"Quebec\",\n    \"Ontario\",\n    \"Manitoba\",\n    \"Saskatchewan\",\n    \"Alberta\",\n    \"British Columbia\",\n    \"Yukon\",\n    \"Nunavut\"\n]\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVlZERhdGEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmVlZERhdGEuanM/OTRjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IGJhckNoYXJ0IH0gZnJvbSAnLi9iYXJfY2hhcnQuanMnO1xuaW1wb3J0IHsgcGllQ2hhcnQgfSBmcm9tICcuL3BpZV9jaGFydC5qcyc7XG5pbXBvcnQgeyBtYXBDaGFydCB9IGZyb20gJy4vbWFwX2NoYXJ0LmpzJztcblxuLy9vcmdhbml6ZSBzcGVjaWZpYyBtb250aGx5IGRhdGFcbi8vY2FsbCBiYXIsIHBpZSwgbWFwIGNoYXJ0XG5leHBvcnQgY29uc3QgZmVlZERhdGEgPSAoZGF0YSwgeWVhciA9IDEwLCBtb250aCA9IDcpID0+IHtcbiAgICBjb25zdCBtb250aGx5RGF0YSA9IFtdO1xuICAgICAgICBmb3IobGV0IGVsZSA9IDA7IGVsZSA8IGRhdGEubGVuZ3RoOyBlbGUgKysgKSB7XG4gICAgICAgICAgICBpZiAoKHBhcnNlSW50KGRhdGFbZWxlXVsnUkVGX0RBVEUnXS5zbGljZSgyLCA0KSkgPT0geWVhcikgJiZcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQoZGF0YVtlbGVdWydSRUZfREFURSddLnNsaWNlKDUsIDcpKSA9PSBtb250aCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9udGhseURhdGEucHVzaChkYXRhW2VsZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vbnRobHlEYXRhLmxlbmd0aCA9PSAxMiApIHsgYnJlYWsgfVxuICAgICAgICB9XG4gXG4gICAgbWFwQ2hhcnQobW9udGhseURhdGEpOyBcbiAgXG4gICAgY29uc3Qgc29ydGVkTW9udGhseURhdGEgPSBbLi4ubW9udGhseURhdGFdOyBcbiAgICBzb3J0ZWRNb250aGx5RGF0YS5zb3J0KGZ1bmN0aW9uKGIsIGEpeyByZXR1cm4gcGFyc2VJbnQoYS5WQUxVRSkgLSBwYXJzZUludChiLlZBTFVFKX0pOyAvLyBzb3J0IGRhdGEgaW4gb3JkZXIgYWNjb3JkaW5nIHRvIHRoZSB2YWx1ZSBhbW91bnRcbiAgICBcbiAgICBjb25zdCB0b3RhbFZpc2l0b3IgPSBzb3J0ZWRNb250aGx5RGF0YS5yZWR1Y2UoKGEsIGIpID0+IChhICsgcGFyc2VJbnQoYi5WQUxVRSkpLCAwKTtcblxuICAgIGJhckNoYXJ0KHNvcnRlZE1vbnRobHlEYXRhKTtcbiAgICBwaWVDaGFydChzb3J0ZWRNb250aGx5RGF0YSwgdG90YWxWaXNpdG9yKTtcblxuICAgIGQzLnNlbGVjdEFsbCgnLmluZm8nKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3QoJy5pbmZvV3JhcCcpLmFwcGVuZCgnZycpXG4gICAgICAgIC5kYXRhKHNvcnRlZE1vbnRobHlEYXRhKVxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2luZm8nKVxuICAgICAgICAudGV4dChkID0+ICB0b3RhbFZpc2l0b3IgKyBcIiBUb3VyaXN0cyBIYXZlIFZpc2l0ZWQgQ2FuYWRhXCIgKyBcIiBvbiBcIiArIGQuUkVGX0RBVEUgKTtcbn1cblxuZXhwb3J0IGNvbnN0IHByb3ZpbmNlcyA9IFtcbiAgICBcIk5ld2ZvdW5kbGFuZCBhbmQgTGFicmFkb3JcIixcbiAgICBcIlByaW5jZSBFZHdhcmQgSXNsYW5kXCIsXG4gICAgXCJOb3ZhIFNjb3RpYVwiLFxuICAgIFwiTmV3IEJydW5zd2lja1wiLFxuICAgIFwiUXVlYmVjXCIsXG4gICAgXCJPbnRhcmlvXCIsXG4gICAgXCJNYW5pdG9iYVwiLFxuICAgIFwiU2Fza2F0Y2hld2FuXCIsXG4gICAgXCJBbGJlcnRhXCIsXG4gICAgXCJCcml0aXNoIENvbHVtYmlhXCIsXG4gICAgXCJZdWtvblwiLFxuICAgIFwiTnVuYXZ1dFwiXG5dXG5cblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/feedData.js\n");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _feedData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./feedData.js */ \"./src/feedData.js\");\n\n//load raw CSV, travel_province_data \n//feed only relavant data set \n//add event listeners for user click\n\n\n\nd3.csv('data/travel_province_data.csv', function(data) {\n    const initialDataCut = [];\n        data.forEach((ele) => {\n            if ((_feedData_js__WEBPACK_IMPORTED_MODULE_0__[\"provinces\"].includes(ele.GEO)) &&\n                (ele['Traveller characteristics'] == \"Total non resident tourists\") &&\n                (ele['Seasonal adjustment'] == \"Unadjusted\") &&\n                (ele.REF_DATE[0] == '2'))\n             {\n                initialDataCut.push(ele);\n            }\n        });\n\n    Object(_feedData_js__WEBPACK_IMPORTED_MODULE_0__[\"feedData\"])(initialDataCut); \n\n    //eventListener for 'year' data input\n    document.querySelector('.select').addEventListener(\"change\", function () {  \n        d3.selectAll(\"svg\").remove();\n        Object(_feedData_js__WEBPACK_IMPORTED_MODULE_0__[\"feedData\"])(initialDataCut, document.querySelector('.select').value, document.querySelector('.slider').value);\n    });\n\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n    //eventListner for 'month' data input\n    document.querySelector('.slider').addEventListener(\"change\", function () {\n        const value = document.querySelector('.slider').value;\n        document.querySelector('.monthDisplay').innerText = months[value - 1];\n\n        d3.selectAll(\"svg\").remove();\n        Object(_feedData_js__WEBPACK_IMPORTED_MODULE_0__[\"feedData\"])(initialDataCut, document.querySelector('.select').value, value);\n    });\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYWluLmpzPzU2ZDciXSwic291cmNlc0NvbnRlbnQiOlsiXG4vL2xvYWQgcmF3IENTViwgdHJhdmVsX3Byb3ZpbmNlX2RhdGEgXG4vL2ZlZWQgb25seSByZWxhdmFudCBkYXRhIHNldCBcbi8vYWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgdXNlciBjbGlja1xuaW1wb3J0IHsgZmVlZERhdGEgfSBmcm9tICcuL2ZlZWREYXRhLmpzJztcbmltcG9ydCB7IHByb3ZpbmNlcyB9IGZyb20gJy4vZmVlZERhdGEuanMnXG5cbmQzLmNzdignZGF0YS90cmF2ZWxfcHJvdmluY2VfZGF0YS5jc3YnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgY29uc3QgaW5pdGlhbERhdGFDdXQgPSBbXTtcbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbGUpID0+IHtcbiAgICAgICAgICAgIGlmICgocHJvdmluY2VzLmluY2x1ZGVzKGVsZS5HRU8pKSAmJlxuICAgICAgICAgICAgICAgIChlbGVbJ1RyYXZlbGxlciBjaGFyYWN0ZXJpc3RpY3MnXSA9PSBcIlRvdGFsIG5vbiByZXNpZGVudCB0b3VyaXN0c1wiKSAmJlxuICAgICAgICAgICAgICAgIChlbGVbJ1NlYXNvbmFsIGFkanVzdG1lbnQnXSA9PSBcIlVuYWRqdXN0ZWRcIikgJiZcbiAgICAgICAgICAgICAgICAoZWxlLlJFRl9EQVRFWzBdID09ICcyJykpXG4gICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluaXRpYWxEYXRhQ3V0LnB1c2goZWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICBmZWVkRGF0YShpbml0aWFsRGF0YUN1dCk7IFxuXG4gICAgLy9ldmVudExpc3RlbmVyIGZvciAneWVhcicgZGF0YSBpbnB1dFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3QnKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHsgIFxuICAgICAgICBkMy5zZWxlY3RBbGwoXCJzdmdcIikucmVtb3ZlKCk7XG4gICAgICAgIGZlZWREYXRhKGluaXRpYWxEYXRhQ3V0LCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0JykudmFsdWUsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXInKS52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuZScsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4gICAgLy9ldmVudExpc3RuZXIgZm9yICdtb250aCcgZGF0YSBpbnB1dFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXInKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyJykudmFsdWU7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb250aERpc3BsYXknKS5pbm5lclRleHQgPSBtb250aHNbdmFsdWUgLSAxXTtcblxuICAgICAgICBkMy5zZWxlY3RBbGwoXCJzdmdcIikucmVtb3ZlKCk7XG4gICAgICAgIGZlZWREYXRhKGluaXRpYWxEYXRhQ3V0LCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0JykudmFsdWUsIHZhbHVlKTtcbiAgICB9KTtcbn0pO1xuXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main.js\n");

/***/ }),

/***/ "./src/map_chart.js":
/*!**************************!*\
  !*** ./src/map_chart.js ***!
  \**************************/
/*! exports provided: mapChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapChart\", function() { return mapChart; });\n\n//draw map_chart with monthly data in\n//draw cities with long lat infos from csv file\nfunction mapChart(data) {\n     \n    data.push({ REF_DATE: data[0].REF_DATE, GEO: \"Northwest Territories\", VALUE: \"0\" }); \n     \n    const dataSorted = [data[9], data[4], data[11], data[1], data[7], data[10], data[6], data[5], data[3], data[12], data[8], data[0], data[2]];\n  \n    const margin = { top: 62, left: 30, right: 50, bottom: 50},\n        height = 505 - margin.top - margin.bottom,\n        width = 670 - margin.left - margin.right;\n\n    const canvas2 = d3.select('.mapWrap')\n        .append('svg')\n        .attr('width', width + margin.left + margin.right)\n        .attr('height', height + margin.top + margin.bottom)\n        .attr('class', 'map')\n        .append('g')\n        .attr('transform', 'translate('+ margin.left + \",\" + margin.top + \")\");\n\n    const visitorFormat = [0, 500, 5000, 10000, 50000, 100000, 300000, 700000, 1000000, 1300000, 1700000]; //custom visitors amounts\n\n    const colorScale = d3.scaleThreshold()\n        .domain(visitorFormat)\n        .range([\"#ffffff\", \"#f7fbff\", \"#e3eef9\", \"#cfe1f2\", \"#b5d4e9\", \"#93c3df\", \"#6daed5\", \"#4b97c9\", \"#2f7ebc\", \"#1864aa\", \"#0a4a90\", \"#08306b\"]);\n       \n    //convert globe project to 2d-map project\n    const projection = d3.geoMercator()\n        .scale([410])\n        .translate([980, 770]);\n\n    const canvas2b = d3.select('.mapWrap')\n        .append('svg')\n        .attr('width', '130')\n        .attr('height', '505')\n        .attr('class', 'legend2');\n\n    const squareSize = 25;\n    canvas2b.selectAll('square')\n        .append('g')\n        .attr('class', 'square')\n        .data(visitorFormat)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", 3)\n        .attr(\"y\", function (d, i) { return 115 + i * (squareSize + 1) })\n        .attr(\"width\", squareSize)\n        .attr(\"height\", squareSize)\n        .style(\"fill\", function (d) { return colorScale(d) });\n\n    canvas2b.selectAll('.square')\n        .data(visitorFormat)\n        .enter()\n        .append('text')\n        .attr('class', 'axisText')\n        .attr(\"x\", 32)\n        .attr(\"y\", function (d, i) { return 137 + i * (squareSize + 1) })\n        .text(d => {\n            if (d !== 0) { return \"~ \" + d }\n            else return d\n        });\n\n    canvas2b.selectAll('.square')\n        .attr('transform', 'translate(200,200');\n\n    canvas2b.append('text')\n        .attr('class', 'axisText')\n        .attr('x', 5)\n        .attr('y', 95)\n        .text('person')\n\n    //legend small screen\n    const canvas2a = d3.select('.mapWrap')\n        .append('svg')\n        .attr('width', '600')\n        .attr('height', '140')\n        .attr('class', 'legend1');\n\n    canvas2a.selectAll('square1')\n        .append('g')\n        .attr('class', 'square1')\n        .data(visitorFormat)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", function (d, i) { return i * (squareSize * 1.5 + 1) + 5 })\n        .attr(\"y\", 20)\n        .attr(\"width\", squareSize *1.5)\n        .attr(\"height\", squareSize)\n        .style(\"fill\", function (d) { return colorScale(d) });\n\n    canvas2a.selectAll('.square1')\n        .data(visitorFormat)\n        .enter()\n        .append('g')\n        .append('text')       \n        .text(d => {\n            if (d !== 0) { return \"~ \" + d }\n            else return d\n        })\n        .attr('transform', 'rotate(90)')\n        .style('text-anchor', 'start')\n        .attr('class', 'axisText')\n        .attr('x', 47)\n        .attr(\"y\", function (d, i) { return -19 - i * (squareSize * 1.5 + 1) });\n        \n    canvas2a.append('text')\n        .attr('class', 'axisText')\n        .attr('x', 5)\n        .attr('y', 125)\n        .text('persons');\n\n    //draw map from json file\n    //draw cities on the map from csv file\n    d3.csv(\"data/canadian_cities.csv\", (cities => {\n        d3.json(\"data/province_map.json\", (map => {\n            const canada = canvas2.selectAll('g')\n                .data(map.features)\n                .enter()\n                .append('g')\n                .attr('class', 'province');\n\n            const paths = d3.geoPath()\n                .projection(projection);\n\n            //draw canada map\n            const path = canada.append(\"path\")\n                .attr('d', paths)\n                .attr('class', 'path')\n                .attr('fill', 'white');\n\n            //draw major cities\n            const city = canvas2.selectAll('.cityDots')\n                .data(cities)\n                .enter()\n                .append('circle')\n                .attr('class', 'cityDots')\n                .attr('r', 2)\n                .attr('cx', city =>{\n                    const coords1 = projection([city.lng, city.lat]);\n                    return coords1[0];\n                    })\n                .attr('cy', city => {\n                    const coords2 = projection([city.lng, city.lat]);\n                    return coords2[1];\n                    });\n            \n            //add city name label\n            canvas2.selectAll('.cityName')\n                .data(cities)\n                .enter()\n                .append('text')\n                .attr('class', 'cityName')\n                .attr('x', city => {\n                    const coords3 = projection([city.lng, city.lat]);\n                    return coords3[0];\n                })\n                .attr('y', city => {\n                    const coords4 = projection([city.lng, city.lat]);\n                    return coords4[1];\n                })\n                .text(d => d.city)\n                .attr('dx', 1)\n                .attr('dy', -2)\n                .style('font-size', '13px');             \n\n            //color provinces according to d.VALUE( tourist number )\n            d3.selectAll('.path')\n                .data(dataSorted)\n                .style(\"fill\", function (d) { return colorScale(parseInt(d.VALUE)) })\n                .on(\"mouseover\", onMouseOver) \n                .on(\"mouseout\", onMouseOut); \n\n        }));\n    }));\n}\n\n//create tooptip element\nconst mapTooltip = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n\n//listen mouseover event\nfunction onMouseOver(d, i) {\n    mapTooltip.transition()\n        .duration(0)\n        .style(\"opacity\", 0.9);\n    mapTooltip.html(d.GEO + \" on \" + d.REF_DATE + \"<br/>\" + \"Tourists from Overseas: \" + d.VALUE + \" persons\")\n        .style(\"left\", (d3.event.pageX - 100) + \"px\")\n        .style(\"top\", (d3.event.pageY - 120) + \"px\");\n}\n\n//listen mouseout event\nfunction onMouseOut(d, i) {\n    d3.selectAll('div.tooltip')\n        .style('opacity', 0);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFwX2NoYXJ0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL21hcF9jaGFydC5qcz84OTkxIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy9kcmF3IG1hcF9jaGFydCB3aXRoIG1vbnRobHkgZGF0YSBpblxuLy9kcmF3IGNpdGllcyB3aXRoIGxvbmcgbGF0IGluZm9zIGZyb20gY3N2IGZpbGVcbmV4cG9ydCBmdW5jdGlvbiBtYXBDaGFydChkYXRhKSB7XG4gICAgIFxuICAgIGRhdGEucHVzaCh7IFJFRl9EQVRFOiBkYXRhWzBdLlJFRl9EQVRFLCBHRU86IFwiTm9ydGh3ZXN0IFRlcnJpdG9yaWVzXCIsIFZBTFVFOiBcIjBcIiB9KTsgXG4gICAgIFxuICAgIGNvbnN0IGRhdGFTb3J0ZWQgPSBbZGF0YVs5XSwgZGF0YVs0XSwgZGF0YVsxMV0sIGRhdGFbMV0sIGRhdGFbN10sIGRhdGFbMTBdLCBkYXRhWzZdLCBkYXRhWzVdLCBkYXRhWzNdLCBkYXRhWzEyXSwgZGF0YVs4XSwgZGF0YVswXSwgZGF0YVsyXV07XG4gIFxuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiA2MiwgbGVmdDogMzAsIHJpZ2h0OiA1MCwgYm90dG9tOiA1MH0sXG4gICAgICAgIGhlaWdodCA9IDUwNSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tLFxuICAgICAgICB3aWR0aCA9IDY3MCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuXG4gICAgY29uc3QgY2FudmFzMiA9IGQzLnNlbGVjdCgnLm1hcFdyYXAnKVxuICAgICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgICAuYXR0cignd2lkdGgnLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdtYXAnKVxuICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJysgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICBjb25zdCB2aXNpdG9yRm9ybWF0ID0gWzAsIDUwMCwgNTAwMCwgMTAwMDAsIDUwMDAwLCAxMDAwMDAsIDMwMDAwMCwgNzAwMDAwLCAxMDAwMDAwLCAxMzAwMDAwLCAxNzAwMDAwXTsgLy9jdXN0b20gdmlzaXRvcnMgYW1vdW50c1xuXG4gICAgY29uc3QgY29sb3JTY2FsZSA9IGQzLnNjYWxlVGhyZXNob2xkKClcbiAgICAgICAgLmRvbWFpbih2aXNpdG9yRm9ybWF0KVxuICAgICAgICAucmFuZ2UoW1wiI2ZmZmZmZlwiLCBcIiNmN2ZiZmZcIiwgXCIjZTNlZWY5XCIsIFwiI2NmZTFmMlwiLCBcIiNiNWQ0ZTlcIiwgXCIjOTNjM2RmXCIsIFwiIzZkYWVkNVwiLCBcIiM0Yjk3YzlcIiwgXCIjMmY3ZWJjXCIsIFwiIzE4NjRhYVwiLCBcIiMwYTRhOTBcIiwgXCIjMDgzMDZiXCJdKTtcbiAgICAgICBcbiAgICAvL2NvbnZlcnQgZ2xvYmUgcHJvamVjdCB0byAyZC1tYXAgcHJvamVjdFxuICAgIGNvbnN0IHByb2plY3Rpb24gPSBkMy5nZW9NZXJjYXRvcigpXG4gICAgICAgIC5zY2FsZShbNDEwXSlcbiAgICAgICAgLnRyYW5zbGF0ZShbOTgwLCA3NzBdKTtcblxuICAgIGNvbnN0IGNhbnZhczJiID0gZDMuc2VsZWN0KCcubWFwV3JhcCcpXG4gICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsICcxMzAnKVxuICAgICAgICAuYXR0cignaGVpZ2h0JywgJzUwNScpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQyJyk7XG5cbiAgICBjb25zdCBzcXVhcmVTaXplID0gMjU7XG4gICAgY2FudmFzMmIuc2VsZWN0QWxsKCdzcXVhcmUnKVxuICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3NxdWFyZScpXG4gICAgICAgIC5kYXRhKHZpc2l0b3JGb3JtYXQpXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCAzKVxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIDExNSArIGkgKiAoc3F1YXJlU2l6ZSArIDEpIH0pXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgc3F1YXJlU2l6ZSlcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgc3F1YXJlU2l6ZSlcbiAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gY29sb3JTY2FsZShkKSB9KTtcblxuICAgIGNhbnZhczJiLnNlbGVjdEFsbCgnLnNxdWFyZScpXG4gICAgICAgIC5kYXRhKHZpc2l0b3JGb3JtYXQpXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpc1RleHQnKVxuICAgICAgICAuYXR0cihcInhcIiwgMzIpXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gMTM3ICsgaSAqIChzcXVhcmVTaXplICsgMSkgfSlcbiAgICAgICAgLnRleHQoZCA9PiB7XG4gICAgICAgICAgICBpZiAoZCAhPT0gMCkgeyByZXR1cm4gXCJ+IFwiICsgZCB9XG4gICAgICAgICAgICBlbHNlIHJldHVybiBkXG4gICAgICAgIH0pO1xuXG4gICAgY2FudmFzMmIuc2VsZWN0QWxsKCcuc3F1YXJlJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMjAwLDIwMCcpO1xuXG4gICAgY2FudmFzMmIuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNUZXh0JylcbiAgICAgICAgLmF0dHIoJ3gnLCA1KVxuICAgICAgICAuYXR0cigneScsIDk1KVxuICAgICAgICAudGV4dCgncGVyc29uJylcblxuICAgIC8vbGVnZW5kIHNtYWxsIHNjcmVlblxuICAgIGNvbnN0IGNhbnZhczJhID0gZDMuc2VsZWN0KCcubWFwV3JhcCcpXG4gICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsICc2MDAnKVxuICAgICAgICAuYXR0cignaGVpZ2h0JywgJzE0MCcpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQxJyk7XG5cbiAgICBjYW52YXMyYS5zZWxlY3RBbGwoJ3NxdWFyZTEnKVxuICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3NxdWFyZTEnKVxuICAgICAgICAuZGF0YSh2aXNpdG9yRm9ybWF0KVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIGkgKiAoc3F1YXJlU2l6ZSAqIDEuNSArIDEpICsgNSB9KVxuICAgICAgICAuYXR0cihcInlcIiwgMjApXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgc3F1YXJlU2l6ZSAqMS41KVxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBzcXVhcmVTaXplKVxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBjb2xvclNjYWxlKGQpIH0pO1xuXG4gICAgY2FudmFzMmEuc2VsZWN0QWxsKCcuc3F1YXJlMScpXG4gICAgICAgIC5kYXRhKHZpc2l0b3JGb3JtYXQpXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXBwZW5kKCd0ZXh0JykgICAgICAgXG4gICAgICAgIC50ZXh0KGQgPT4ge1xuICAgICAgICAgICAgaWYgKGQgIT09IDApIHsgcmV0dXJuIFwifiBcIiArIGQgfVxuICAgICAgICAgICAgZWxzZSByZXR1cm4gZFxuICAgICAgICB9KVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSg5MCknKVxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNUZXh0JylcbiAgICAgICAgLmF0dHIoJ3gnLCA0NylcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiAtMTkgLSBpICogKHNxdWFyZVNpemUgKiAxLjUgKyAxKSB9KTtcbiAgICAgICAgXG4gICAgY2FudmFzMmEuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNUZXh0JylcbiAgICAgICAgLmF0dHIoJ3gnLCA1KVxuICAgICAgICAuYXR0cigneScsIDEyNSlcbiAgICAgICAgLnRleHQoJ3BlcnNvbnMnKTtcblxuICAgIC8vZHJhdyBtYXAgZnJvbSBqc29uIGZpbGVcbiAgICAvL2RyYXcgY2l0aWVzIG9uIHRoZSBtYXAgZnJvbSBjc3YgZmlsZVxuICAgIGQzLmNzdihcImRhdGEvY2FuYWRpYW5fY2l0aWVzLmNzdlwiLCAoY2l0aWVzID0+IHtcbiAgICAgICAgZDMuanNvbihcImRhdGEvcHJvdmluY2VfbWFwLmpzb25cIiwgKG1hcCA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW5hZGEgPSBjYW52YXMyLnNlbGVjdEFsbCgnZycpXG4gICAgICAgICAgICAgICAgLmRhdGEobWFwLmZlYXR1cmVzKVxuICAgICAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3Byb3ZpbmNlJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGhzID0gZDMuZ2VvUGF0aCgpXG4gICAgICAgICAgICAgICAgLnByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbiAgICAgICAgICAgIC8vZHJhdyBjYW5hZGEgbWFwXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gY2FuYWRhLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIHBhdGhzKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdwYXRoJylcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICd3aGl0ZScpO1xuXG4gICAgICAgICAgICAvL2RyYXcgbWFqb3IgY2l0aWVzXG4gICAgICAgICAgICBjb25zdCBjaXR5ID0gY2FudmFzMi5zZWxlY3RBbGwoJy5jaXR5RG90cycpXG4gICAgICAgICAgICAgICAgLmRhdGEoY2l0aWVzKVxuICAgICAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2l0eURvdHMnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgMilcbiAgICAgICAgICAgICAgICAuYXR0cignY3gnLCBjaXR5ID0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMxID0gcHJvamVjdGlvbihbY2l0eS5sbmcsIGNpdHkubGF0XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb29yZHMxWzBdO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjeScsIGNpdHkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29yZHMyID0gcHJvamVjdGlvbihbY2l0eS5sbmcsIGNpdHkubGF0XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb29yZHMyWzFdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9hZGQgY2l0eSBuYW1lIGxhYmVsXG4gICAgICAgICAgICBjYW52YXMyLnNlbGVjdEFsbCgnLmNpdHlOYW1lJylcbiAgICAgICAgICAgICAgICAuZGF0YShjaXRpZXMpXG4gICAgICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2l0eU5hbWUnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgY2l0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkczMgPSBwcm9qZWN0aW9uKFtjaXR5LmxuZywgY2l0eS5sYXRdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvb3JkczNbMF07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cigneScsIGNpdHkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29yZHM0ID0gcHJvamVjdGlvbihbY2l0eS5sbmcsIGNpdHkubGF0XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb29yZHM0WzFdO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRleHQoZCA9PiBkLmNpdHkpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2R4JywgMSlcbiAgICAgICAgICAgICAgICAuYXR0cignZHknLCAtMilcbiAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsICcxM3B4Jyk7ICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAvL2NvbG9yIHByb3ZpbmNlcyBhY2NvcmRpbmcgdG8gZC5WQUxVRSggdG91cmlzdCBudW1iZXIgKVxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucGF0aCcpXG4gICAgICAgICAgICAgICAgLmRhdGEoZGF0YVNvcnRlZClcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBjb2xvclNjYWxlKHBhcnNlSW50KGQuVkFMVUUpKSB9KVxuICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBvbk1vdXNlT3ZlcikgXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgb25Nb3VzZU91dCk7IFxuXG4gICAgICAgIH0pKTtcbiAgICB9KSk7XG59XG5cbi8vY3JlYXRlIHRvb3B0aXAgZWxlbWVudFxuY29uc3QgbWFwVG9vbHRpcCA9IGQzLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwiZGl2XCIpXG4gICAgLmF0dHIoXCJjbGFzc1wiLCBcInRvb2x0aXBcIilcbiAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDApO1xuXG4vL2xpc3RlbiBtb3VzZW92ZXIgZXZlbnRcbmZ1bmN0aW9uIG9uTW91c2VPdmVyKGQsIGkpIHtcbiAgICBtYXBUb29sdGlwLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAwLjkpO1xuICAgIG1hcFRvb2x0aXAuaHRtbChkLkdFTyArIFwiIG9uIFwiICsgZC5SRUZfREFURSArIFwiPGJyLz5cIiArIFwiVG91cmlzdHMgZnJvbSBPdmVyc2VhczogXCIgKyBkLlZBTFVFICsgXCIgcGVyc29uc1wiKVxuICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCAtIDEwMCkgKyBcInB4XCIpXG4gICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMjApICsgXCJweFwiKTtcbn1cblxuLy9saXN0ZW4gbW91c2VvdXQgZXZlbnRcbmZ1bmN0aW9uIG9uTW91c2VPdXQoZCwgaSkge1xuICAgIGQzLnNlbGVjdEFsbCgnZGl2LnRvb2x0aXAnKVxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/map_chart.js\n");

/***/ }),

/***/ "./src/pie_chart.js":
/*!**************************!*\
  !*** ./src/pie_chart.js ***!
  \**************************/
/*! exports provided: pieChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pieChart\", function() { return pieChart; });\n//draw pieChart with the monthly data set\nfunction pieChart(data, totalVisitor){\n    \n    //draw canvas \n    const canvas3 = d3.select(\".pieWrap\")\n            .append('svg')\n            .attr('width', 231)\n            .attr('height',245)\n            .attr('class', 'pie')\n            .append('g')\n            .attr('transform', \"translate(115, 114)\");\n\n    //variable for pie\n    const color = d3.scaleThreshold()\n        .domain([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])\n        .range([\"#4a58dd\", \"#2f9df5\", \"#27d7c4\", \"#4df884\", \"#95fb51\", \"#dedd32\", \"#ffa423\", \"#f65f18\", \"#ba2208\", \"#900c00\", \"#bf3caf\", \"#fe4b83\"]);\n        \n    const radius = 100;\n\n    const pieTooltip = d3.select(\"body\").append(\"div\")\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0);\n\n    //generate pie\n    const pie = d3.pie()\n        .value(d => +d.VALUE);\n\n    //generate arcs\n    const arc = d3.arc()\n        .innerRadius(35)\n        .outerRadius(radius);\n    const arcLarge = d3.arc()\n        .innerRadius(30)\n        .outerRadius(110);     \n\n    //generate arcs\n    const arcs = canvas3.selectAll(\"arc\")\n        .data(pie(data))\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"arc\");\n        \n    //draw arcs\n    //add animation effect of path\n    const pieces = arcs\n        .append('g')\n        .append('path')\n        .attr('class', 'piece')\n        .attr('d', arc)\n        .attr(\"fill\", function (d, i) { return color(i); })\n        .transition()\n        .ease(d3.easeLinear)\n        .duration(400)\n        .attrTween('d', pieTween);\n\n    //listen actions of mouseover, mouseout\n    d3.selectAll('.piece') //listener for mouseover, mouseout on bars\n        .on(\"mouseover\", onMouseover)\n        .on(\"mouseout\", onMouseout); \n\n    //add text of percentile of province visitors\n    const text = arcs\n        .append('g')\n        .append('text')\n        .transition()\n        .ease(d3.easeLinear)\n        .duration(350)\n        .attr('transform', function (d) {\n            var c = arc.centroid(d);\n            return \"translate(\" + (c[0]-14) + \",\" + c[1] + \")\";\n        })\n        .text(function (d) { //only show distint value of province \n            const percentage = Math.round(d.data.VALUE / totalVisitor * 100);\n\n            return percentage > 3 ? (percentage + \"%\") : null;\n        })\n        .attr('class', 'text');\n\n    arcs.append('text')\n        .attr('x', -35)\n        .attr('y', 130)\n        .text('Visitor Ratio');\n\n    //mouseover event handler function\n    function onMouseover(d) {\n        d3.select(this).transition()\n            .duration(0)\n            .attr(\"d\", arcLarge)\n            .style('opacity', '0.5')\n        pieTooltip.transition()\n            .duration(0)\n            .style(\"opacity\", '0.9');\n        pieTooltip.html(d.data.GEO + \" on \" + d.data.REF_DATE + \"<br/>\" + \n                                    \"Non-Residential Travellers: \" + d.data.VALUE + \" persons\" + \n                                    \"<br/>\" + Math.round(d.data.VALUE / totalVisitor * 100) + \"%\")\n            .style(\"left\", (d3.event.pageX + 5) + \"px\")\n            .style(\"top\", (d3.event.pageY - 100) + \"px\")\n    }\n\n    //mouseout event handler function\n    function onMouseout(d) {\n        d3.select(this).transition()\n            .duration(0)\n            .attr(\"d\", arc)\n            .style('opacity', '1.0');\n        pieTooltip.transition()\n            .duration(0)\n            .style(\"opacity\", 0);\n    }\n\n    //pieTween animation arc function\n   function pieTween(b) {\n        b.innerRadius = 0;\n        const inter = d3.interpolate({startAngle: 0, endAngle: 0}, b);\n        return function(t) { return arc(inter(t));};\n   }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGllX2NoYXJ0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BpZV9jaGFydC5qcz81OTEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vZHJhdyBwaWVDaGFydCB3aXRoIHRoZSBtb250aGx5IGRhdGEgc2V0XG5leHBvcnQgZnVuY3Rpb24gcGllQ2hhcnQoZGF0YSwgdG90YWxWaXNpdG9yKXtcbiAgICBcbiAgICAvL2RyYXcgY2FudmFzIFxuICAgIGNvbnN0IGNhbnZhczMgPSBkMy5zZWxlY3QoXCIucGllV3JhcFwiKVxuICAgICAgICAgICAgLmFwcGVuZCgnc3ZnJylcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIDIzMSlcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLDI0NSlcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdwaWUnKVxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgXCJ0cmFuc2xhdGUoMTE1LCAxMTQpXCIpO1xuXG4gICAgLy92YXJpYWJsZSBmb3IgcGllXG4gICAgY29uc3QgY29sb3IgPSBkMy5zY2FsZVRocmVzaG9sZCgpXG4gICAgICAgIC5kb21haW4oWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdKVxuICAgICAgICAucmFuZ2UoW1wiIzRhNThkZFwiLCBcIiMyZjlkZjVcIiwgXCIjMjdkN2M0XCIsIFwiIzRkZjg4NFwiLCBcIiM5NWZiNTFcIiwgXCIjZGVkZDMyXCIsIFwiI2ZmYTQyM1wiLCBcIiNmNjVmMThcIiwgXCIjYmEyMjA4XCIsIFwiIzkwMGMwMFwiLCBcIiNiZjNjYWZcIiwgXCIjZmU0YjgzXCJdKTtcbiAgICAgICAgXG4gICAgY29uc3QgcmFkaXVzID0gMTAwO1xuXG4gICAgY29uc3QgcGllVG9vbHRpcCA9IGQzLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwiZGl2XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ0b29sdGlwXCIpXG4gICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMCk7XG5cbiAgICAvL2dlbmVyYXRlIHBpZVxuICAgIGNvbnN0IHBpZSA9IGQzLnBpZSgpXG4gICAgICAgIC52YWx1ZShkID0+ICtkLlZBTFVFKTtcblxuICAgIC8vZ2VuZXJhdGUgYXJjc1xuICAgIGNvbnN0IGFyYyA9IGQzLmFyYygpXG4gICAgICAgIC5pbm5lclJhZGl1cygzNSlcbiAgICAgICAgLm91dGVyUmFkaXVzKHJhZGl1cyk7XG4gICAgY29uc3QgYXJjTGFyZ2UgPSBkMy5hcmMoKVxuICAgICAgICAuaW5uZXJSYWRpdXMoMzApXG4gICAgICAgIC5vdXRlclJhZGl1cygxMTApOyAgICAgXG5cbiAgICAvL2dlbmVyYXRlIGFyY3NcbiAgICBjb25zdCBhcmNzID0gY2FudmFzMy5zZWxlY3RBbGwoXCJhcmNcIilcbiAgICAgICAgLmRhdGEocGllKGRhdGEpKVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYXJjXCIpO1xuICAgICAgICBcbiAgICAvL2RyYXcgYXJjc1xuICAgIC8vYWRkIGFuaW1hdGlvbiBlZmZlY3Qgb2YgcGF0aFxuICAgIGNvbnN0IHBpZWNlcyA9IGFyY3NcbiAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncGllY2UnKVxuICAgICAgICAuYXR0cignZCcsIGFyYylcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiBjb2xvcihpKTsgfSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZWFzZShkMy5lYXNlTGluZWFyKVxuICAgICAgICAuZHVyYXRpb24oNDAwKVxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgcGllVHdlZW4pO1xuXG4gICAgLy9saXN0ZW4gYWN0aW9ucyBvZiBtb3VzZW92ZXIsIG1vdXNlb3V0XG4gICAgZDMuc2VsZWN0QWxsKCcucGllY2UnKSAvL2xpc3RlbmVyIGZvciBtb3VzZW92ZXIsIG1vdXNlb3V0IG9uIGJhcnNcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIG9uTW91c2VvdmVyKVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBvbk1vdXNlb3V0KTsgXG5cbiAgICAvL2FkZCB0ZXh0IG9mIHBlcmNlbnRpbGUgb2YgcHJvdmluY2UgdmlzaXRvcnNcbiAgICBjb25zdCB0ZXh0ID0gYXJjc1xuICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmVhc2UoZDMuZWFzZUxpbmVhcilcbiAgICAgICAgLmR1cmF0aW9uKDM1MClcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGFyYy5jZW50cm9pZChkKTtcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIChjWzBdLTE0KSArIFwiLFwiICsgY1sxXSArIFwiKVwiO1xuICAgICAgICB9KVxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyAvL29ubHkgc2hvdyBkaXN0aW50IHZhbHVlIG9mIHByb3ZpbmNlIFxuICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoZC5kYXRhLlZBTFVFIC8gdG90YWxWaXNpdG9yICogMTAwKTtcblxuICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnRhZ2UgPiAzID8gKHBlcmNlbnRhZ2UgKyBcIiVcIikgOiBudWxsO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cignY2xhc3MnLCAndGV4dCcpO1xuXG4gICAgYXJjcy5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAuYXR0cigneCcsIC0zNSlcbiAgICAgICAgLmF0dHIoJ3knLCAxMzApXG4gICAgICAgIC50ZXh0KCdWaXNpdG9yIFJhdGlvJyk7XG5cbiAgICAvL21vdXNlb3ZlciBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgZnVuY3Rpb24gb25Nb3VzZW92ZXIoZCkge1xuICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBhcmNMYXJnZSlcbiAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsICcwLjUnKVxuICAgICAgICBwaWVUb29sdGlwLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLmR1cmF0aW9uKDApXG4gICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsICcwLjknKTtcbiAgICAgICAgcGllVG9vbHRpcC5odG1sKGQuZGF0YS5HRU8gKyBcIiBvbiBcIiArIGQuZGF0YS5SRUZfREFURSArIFwiPGJyLz5cIiArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJOb24tUmVzaWRlbnRpYWwgVHJhdmVsbGVyczogXCIgKyBkLmRhdGEuVkFMVUUgKyBcIiBwZXJzb25zXCIgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGJyLz5cIiArIE1hdGgucm91bmQoZC5kYXRhLlZBTFVFIC8gdG90YWxWaXNpdG9yICogMTAwKSArIFwiJVwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyA1KSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMDApICsgXCJweFwiKVxuICAgIH1cblxuICAgIC8vbW91c2VvdXQgZXZlbnQgaGFuZGxlciBmdW5jdGlvblxuICAgIGZ1bmN0aW9uIG9uTW91c2VvdXQoZCkge1xuICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBhcmMpXG4gICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAnMS4wJyk7XG4gICAgICAgIHBpZVRvb2x0aXAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMCk7XG4gICAgfVxuXG4gICAgLy9waWVUd2VlbiBhbmltYXRpb24gYXJjIGZ1bmN0aW9uXG4gICBmdW5jdGlvbiBwaWVUd2VlbihiKSB7XG4gICAgICAgIGIuaW5uZXJSYWRpdXMgPSAwO1xuICAgICAgICBjb25zdCBpbnRlciA9IGQzLmludGVycG9sYXRlKHtzdGFydEFuZ2xlOiAwLCBlbmRBbmdsZTogMH0sIGIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkgeyByZXR1cm4gYXJjKGludGVyKHQpKTt9O1xuICAgfVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pie_chart.js\n");

/***/ })

/******/ });